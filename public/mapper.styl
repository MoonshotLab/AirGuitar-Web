html, body
  width 100%
  height 100%
  margin 0
  padding 0
  overflow hidden


#map-surface
  width 840px
  position absolute
  z-index 4
  opacity .5
  display none


#map
  overflow hidden
  background-color black
  width 840px
  height 840px
  margin auto
  position relative


.block
  z-index 2
  position relative
  width 50%
  height 50%
  display inline-block
  overflow hidden
  margin-bottom: -4px


.unit
  z-index 2
  position absolute
  display inline-block
  width 100%
  height 100%
  left 0
  top 0
  -webkit-mask-repeat no-repeat
  -webkit-mask-size 100%
  -webkit-mask-size contain



for blockId in (0..3)
  for unitNum in (0..3)
    #unit-{blockId}-{unitNum}
      -webkit-mask-image url('/masks/' + blockId + '-' + unitNum + '.svg')


#unit-0-0
  background-image: url('/backgrounds/0.gif')

#unit-1-0
  background-image: url('/backgrounds/1.gif')

#unit-1-3
  background-image: url('/backgrounds/4.gif')

#unit-2-0
  background-image: url('/backgrounds/2.gif')
  background-size: 200%
  background-position bottom

#unit-2-2
  background-image: url('/backgrounds/5.gif')
  background-size: 200%
  background-position bottom


#unit-3-1::after
  position: absolute
  top 0
  left 0
  background-image: url('/backgrounds/1.jpg')
  opacity .5

#unit-3-0, #unit-3-1, #unit-3-2, #unit-3-3
  opacity: .5
  background-image: url('/backgrounds/7.gif')


.unit-1
  -webkit-mask-position bottom right

.unit-2
  -webkit-mask-position bottom

video
  position absolute
  margin-left -50%
  width 200%

.show
  display: block;

.hide
  display: none;
